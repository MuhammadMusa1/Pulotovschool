import re

def analyze_message(text):
    print("üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...")
    print("-" * 50)
    
    score = 10  # –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–ª ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ
    warnings = []

    # === 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ñ–∏—à–∏–Ω–≥–æ–≤—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (—Ü–∏–∫–ª –ø–æ —Å–ø–∏—Å–∫—É) ===
    phishing_words = ["–≤—ã–∏–≥—Ä–∞–ª", "–ø—Ä–∏–∑", "–±–µ—Å–ø–ª–∞—Ç–Ω–æ", "—Å—Ä–æ—á–Ω–æ", "–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ", 
                      "–ø–∞—Ä–æ–ª—å", "–∞–∫–∫–∞—É–Ω—Ç", "–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω", "–Ω–∞–∂–º–∏—Ç–µ", "—Å—Å—ã–ª–∫–∞"]
    
    found_phishing = []
    for word in phishing_words:
        if word in text.lower():
            found_phishing.append(word)
    
    if found_phishing:
        penalty = min(3, len(found_phishing))
        score -= penalty
        warnings.append(f"‚ö†Ô∏è –§–∏—à–∏–Ω–≥-—Å–ª–æ–≤–∞: {', '.join(found_phishing)} ‚Üí -{penalty}")

    # === 2. –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ü–∏–∫–ª –ø–æ —à–∞–±–ª–æ–Ω–∞–º —Ä–µ–≥—É–ª—è—Ä–æ–∫) ===
    patterns = {
        "—Ç–µ–ª–µ—Ñ–æ–Ω": r"\+?7\s?[-\(]?\d{3}\)?[-\s]?\d{3}[-\s]?\d{2}[-\s]?\d{2}",
        "email": r"\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b",
        "–ò–ù–ù": r"\b\d{10}\b|\b\d{12}\b"
    }

    found_pii = []
    for data_type, pattern in patterns.items():
        if re.search(pattern, text):
            found_pii.append(data_type)
    
    if found_pii:
        penalty = min(4, len(found_pii) * 2)
        score -= penalty
        warnings.append(f"üõë –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: {', '.join(found_pii)} ‚Üí -{penalty}")

    # === 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å (—Ü–∏–∫–ª –ø–æ —á—ë—Ä–Ω–æ–º—É —Å–ø–∏—Å–∫—É) ===
    toxic_words = ["–¥—É—Ä–∞–∫", "–∏–¥–∏–æ—Ç", "—á–º–æ", "–ª–æ—Ö", "—É—Ä–æ–¥", "—Ç–≤–∞—Ä—å", "–Ω–µ–Ω–∞–≤–∏–∂—É"]
    found_toxic = []
    for word in toxic_words:
        if word in text.lower():
            found_toxic.append(word)
    
    if found_toxic:
        penalty = min(3, len(found_toxic))
        score -= penalty
        warnings.append(f"üí¢ –¢–æ–∫—Å–∏—á–Ω—ã–µ —Å–ª–æ–≤–∞: {', '.join(found_toxic)} ‚Üí -{penalty}")

    # === –ò—Ç–æ–≥ ===
    print(f"üìä –û—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: {score}/10")
    if warnings:
        print("\n‚ùó –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:")
        for w in warnings:
            print(" ‚Ä¢", w)
    else:
        print("\n‚úÖ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –°–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —ç—Ç–∏—á–Ω–æ.")

    print("-" * 50)
    return score

# ---------------------------
# –ó–∞–ø—É—Å–∫ –≤ –∫–ª–∞—Å—Å–µ (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º)
# ---------------------------

if __name__ == "__main__":
    print("üõ°Ô∏è  –¶–ò–§–†–û–í–û–ô –ó–ê–©–ò–¢–ù–ò–ö ‚Äî –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π")
    print("=" * 50)
    print("–ü—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∞:")
    print(" ‚Ä¢ '–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ iPhone! –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ' ‚Üí –Ω–∏–∑–∫–∏–π –±–∞–ª–ª")
    print(" ‚Ä¢ '–ü—Ä–∏–≤–µ—Ç! –ú–æ–π email: test@example.com' ‚Üí —É—Ç–µ—á–∫–∞ email")
    print(" ‚Ä¢ '–¢—ã –¥—É—Ä–∞–∫!' ‚Üí —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç—å")
    print(" ‚Ä¢ '–í—Å—Ç—Ä–µ—á–∞–µ–º—Å—è –≤ 15:00 —É —à–∫–æ–ª—ã' ‚Üí 10/10 ‚úÖ")
    print()

    while True:
        user_input = input("üí¨ –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–∏–ª–∏ '—Å—Ç–æ–ø' –¥–ª—è –≤—ã—Ö–æ–¥–∞): ")
        if user_input.lower() == "—Å—Ç–æ–ø":
            print("–î–æ –≤—Å—Ç—Ä–µ—á–∏, —Ü–∏—Ñ—Ä–æ–≤–æ–π –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω! üëã")
            break
        print()
        analyze_message(user_input)
        print()